{% load static %}
<section class="max-w-lg px-6 mx-auto space-y-5">
  <div class="flex flex-col items-center w-full space-y-2 transition duration-700 opacity-0 blur-sm" x-intersect.half="$el.classList.add('opacity-100', '!blur-none')" x-intersect:leave="$el.classList.remove('opacity-100', '!blur-none')">
    <img src="{% static 'assets/sparkles_color.svg' %}" alt="sparkles" class="w-10 h-10 md:h-12 md:w-12" />
    <p class="text-gray-text-light font-['Wotfard'] text-sm font-medium tracking-wide">BACKGROUND SECTION</p>
    <div class="text-center font-['Wotfard'] text-[1.75rem] font-medium tracking-tight text-white md:text-[2.5rem]">Education & Career</div>
  </div>
  <div x-data="{ tabSelected: 1, tabId: $id('tabs'), tabButtonClicked(tabButton){ this.tabSelected = tabButton.id.replace(this.tabId + '-', ''); this.tabRepositionMarker(tabButton); }, tabRepositionMarker(tabButton){ this.$refs.tabMarker.style.width=tabButton.offsetWidth + 'px'; this.$refs.tabMarker.style.height=tabButton.offsetHeight + 'px'; this.$refs.tabMarker.style.left=tabButton.offsetLeft + 'px'; }, tabContentActive(tabContent){ return this.tabSelected == tabContent.id.replace(this.tabId + '-content-', ''); }, tabButtonActive(tabContent){ const tabId = tabContent.id.split('-').slice(-1); return this.tabSelected == tabId; } }" x-init="tabRepositionMarker($refs.tabButtons.firstElementChild);">
    <div x-ref="tabButtons" class="relative inline-grid items-center justify-center w-full grid-cols-2 p-1 transition duration-700 border-t rounded-full opacity-0 bg-gray-bg border-t-gray-border blur-sm" x-intersect.half="$el.classList.add('opacity-100', '!blur-none')" x-intersect:leave="$el.classList.remove('opacity-100', '!blur-none')">
      <button :id="$id(tabId)" @click="tabButtonClicked($el);" type="button" :class="{ 'bg-custom-black text-white animate-background-shine bg-[linear-gradient(110deg,#0b0c0c,45%,#1e2631,55%,#0b0c0c)] bg-[length:200%_100%] transition-colors' : tabButtonActive($el) }" class="text-gray-text relative z-20 inline-flex w-full items-center justify-center whitespace-nowrap rounded-full p-2 font-['Wotfard'] font-medium transition-all duration-500 hover:text-white">Education</button>
      <button :id="$id(tabId)" @click="tabButtonClicked($el);" type="button" :class="{ 'bg-custom-black text-white animate-background-shine bg-[linear-gradient(110deg,#0b0c0c,45%,#1e2631,55%,#0b0c0c)] bg-[length:200%_100%] transition-colors' : tabButtonActive($el) }" class="text-gray-text relative z-20 inline-flex w-full items-center justify-center whitespace-nowrap rounded-full p-2 font-['Wotfard'] font-medium transition-all duration-500 hover:text-white">Career</button>
      <div x-ref="tabMarker" class="absolute left-0 w-1/2 h-full duration-300 ease-out" x-cloak>
        <div class="w-1/2 h-full mx-auto rounded-full shadow-sm bg-custom-black"></div>
      </div>
    </div>
    <div class="relative flex items-center justify-center w-full p-5 mt-4 transition duration-700 border-t opacity-0 content border-t-gray-border bg-gray-bg rounded-2xl blur-sm" x-intersect.half="$el.classList.add('opacity-100', '!blur-none')" x-intersect:leave="$el.classList.remove('opacity-100', '!blur-none')">
      <div :id="$id(tabId + '-content')" x-show="tabContentActive($el)" class="relative w-full transition duration-700 opacity-0 blur-sm" x-intersect.half="$el.classList.add('opacity-100', '!blur-none')" x-intersect:leave="$el.classList.remove('opacity-100', '!blur-none')" x-cloak>
        <div class="flex justify-start space-x-2.5">
          <img src="{% static 'assets/graduation_cap_color.svg' %}" alt="graduation cap" class="w-5 h-5" />
          <div>
            <p class="font-['Wotfard'] text-base font-medium text-white">Bachelor of Computer Science</p>
            <div class="space-y-0.5">
              <p class="text-gray-text font-['Wotfard'] text-sm">VNUHCM - University of Science</p>
              <p class="text-gray-text-light font-['Wotfard'] text-xs">Oct 2020 - Oct 2024 (Expected)</p>
            </div>
          </div>
        </div>
      </div>
      <div :id="$id(tabId + '-content')" x-show="tabContentActive($el)" class="relative w-full transition duration-700 opacity-0 blur-sm" x-intersect.half="$el.classList.add('opacity-100', '!blur-none')" x-intersect:leave="$el.classList.remove('opacity-100', '!blur-none')" x-cloak>
        <div class="flex justify-start space-x-2.5">
          <img src="{% static 'assets/briefcase_color.svg' %}" alt="briefcase" class="w-5 h-5" />
          <div>
            <p class="font-['Wotfard'] text-base font-medium text-white">Programming Teacher</p>
            <div class="space-y-0.5">
              <p class="text-gray-text font-['Wotfard'] text-sm">Algorithmics</p>
              <p class="text-gray-text-light font-['Wotfard'] text-xs">Aug 2023 - Now</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
